name: Verify Attestation

on:
  workflow_call:

jobs:
  verify-attestation:
    runs-on: ubuntu-latest
    steps:

    - name: Verify attestation
      id: verification
      uses: kipz/url-oracle@1cd41a73b2453b2f01f503e2239f474f973d6933
      with:
        command: verify_attestation
        attestation_file: "/github/workspace/attestation.json"
        commit_sha: 1cd41a73b2453b2f01f503e2239f474f973d6933

    - name: Comment on commit (if possible)
      run: |
        echo "ğŸ” Verification completed for commit 8e7535bfa0b3b77ce1afe1902d8ff1407cfcf8a8
        echo "ğŸ“‹ Summary: Attestation verified successfully"
