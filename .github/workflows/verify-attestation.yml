name: Verify Attestation

on:
  workflow_call:

jobs:
  verify-attestation:
    runs-on: ubuntu-latest
    steps:

    - name: Verify attestation
      id: verification
      uses: kipz/url-oracle@e80121d064f8f98df3f12f5c17fcc419dd0e9320
      with:
        command: verify_attestation
        attestation_file: "/github/workspace/attestation.json"
        commit_sha: e80121d064f8f98df3f12f5c17fcc419dd0e9320

    - name: Comment on commit (if possible)
      run: |
        echo "ğŸ” Verification completed for commit 8e7535bfa0b3b77ce1afe1902d8ff1407cfcf8a8
        echo "ğŸ“‹ Summary: Attestation verified successfully"
